<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <title><%= title %></title>
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" />
      <link rel="stylesheet" href="stylesheets/sb-admin-2.css">
      <%# 自己的code%>
      <link rel="stylesheet" href="stylesheets/main.css" />
   </head>
   <body>
      <div id="wrapper">
         <!-- Navigation -->
         <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
            <div class="navbar-header">
               <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
               <span class="sr-only">Toggle navigation</span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               <span class="icon-bar"></span>
               </button>
               <a class="navbar-brand" href="/">PS Admin</a>
            </div>
            <!-- /.navbar-header -->
            <ul class="nav navbar-top-links navbar-right">
               <!-- /.dropdown -->
               <li class="dropdown">
                  <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                  <i class="fa fa-user fa-fw"></i> <i class="fa fa-caret-down"></i>
                  </a>
                  <ul class="dropdown-menu dropdown-user">
                     <li><a href="#"><i class="fa fa-user fa-fw"></i> User Profile</a>
                     </li>
                     <li><a href="#"><i class="fa fa-gear fa-fw"></i> Settings</a>
                     </li>
                     <li class="divider"></li>
                     <li><a href="/login" id="signout-btn"><i class="fa fa-sign-out fa-fw"></i> Logout</a>
                     </li>
                  </ul>
                  <!-- /.dropdown-user -->
               </li>
               <!-- /.dropdown -->
            </ul>
            <!-- /.navbar-top-links -->
            <div class="navbar-default sidebar" role="navigation">
               <div class="sidebar-nav navbar-collapse">
                  <ul class="nav" id="side-menu">
                     <li>
                        <a href="/" class="active"><i class="fa fa-dashboard fa-fw"></i> Dashboard</a>
                     </li>
                     <li>
                        <a href="/chat"><i class="fa fa-commenting fa-fw"></i> Chat</a>
                     </li>
                     <li>
                        <a href="/calendar"><i class="fa fa-table fa-fw"></i> Calendar</a>
                     </li>

                     <li>
                        <a href="/ticket"><i class="fa fa-ticket fa-fw"></i> Support</a>
                     </li>

                     <li id="message">
                        <a href="#"><i class="fa fa-indent" aria-hidden="true"></i> Message</a>
                     </li>
                     <li class="subTag" style="display:none; font-size: 12px; line-height: auto; margin-left: 35px;">
                        <a href="/message_overview"> Overview</a>
                     </li>
                     <li class="subTag"  style="display:none; font-size: 12px; line-height: auto; margin-left: 35px;">
                        <a href="/message_newtopic"> New Topic</a>
                     </li>
                     <li class="subTag"  style="display:none; font-size: 12px; line-height: auto; margin-left: 35px;">
                        <a href="/message_autoreply"> Auto Reply</a>
                     </li>
                     <li class="subTag"  style="display:none; font-size: 12px; line-height: auto; margin-left: 35px;">
                        <a href="/message_keywordsreply"> Keywords Reply</a>
                     </li>
                     <li class="subTag"  style="display:none; font-size: 12px; line-height: auto; margin-left: 35px;">
                        <a href="/message_addfriendreply"> Add Friend Reply</a>
                     </li>

                  </ul>
               </div>
               <!-- /.sidebar-collapse -->
            </div>
            <!-- /.navbar-static-side -->
         </nav>
      </div>
      <div id="home">
		<h3> Message: Keywords Reply</h3>
		<p>You can add, edit, and test the message you want to send to LINE@</p>
    <p>NOTE FOR DEVELOPERS:<br/>
    1. download CSV file 未做<br/>
    2. 時間功能未做<br/>
    3. Add keywords: text, sticker UI<br/>
    4. Close text/sticker/image....<br/>
    5. Serving/ Waiting<br/>
    6. View edit delete<br/>
    7. Waiting/ Serving double click有問題<br/>
    8. addSubKey 按鈕按下去就爆炸

    </p>


    <button class="tablinks" rel="History" style="float:right; width:20%; margin:1%; padding:1%">Add Keywords</button>

    <button type="button" class="btn btn-default inner-add" data-toggle="modal" data-target="#quickAdd"><span class="fa fa-plus fa-fw"></span>Add Keywords</button>




  <div class="tab" style="width:100%; position:absolute; float:top; margin: 6% 1% 1% 0%; padding:1% 0% 1% 1%;">
  				
  				<table>
  					  <tr>
    					<th>Download Data   Time Period:</th>
    					<td>
    						<form >
								 <input type="datetime-local" id="endDate" style="width:35%;margin:1.5%" />~ <input type="datetime-local" id="endDate" style="width:35%" />     <p style="float:right;padding:1.6%"><a id="csv" rel="nocsv">Download CSV files</a></p>
                 <p id="nocsv" style="color:red; display:none; float:right">此功能暫未開通</p>
							
							</form>
						</td>
  					</tr>
  				</table>

  </div>

<section style="float:top; margin:16% 0 0 0 ">
<div class="tab">
  <button style="padding:1.5%;margin:0" class="tablinks" rel="table">Serving</button>
  <button style="padding:1.5%; margin:0" class="tablinks" rel="tableData" >Waiting</button>
</div>
</section>
<section>
<div id="table" style="height:550px;border: solid lightgrey 1px">
	<table id="table">
    <thead>
		<tr>
			<th id="th">Main Keyword</th>
			<th id="th">Sub Keyword</th>
			<th id="th">Content</th>
			<th id="th">Reply Amount/ Reply User Amount</th>
			<th id="th">Edit Status</th>
		</tr>
    </thead>
    <tbody id="serving">
      <tr>
        <td id="td">Your main keyword</td>
        <td id="td">Your sub keyword</td>
        <td id="td">Your message content</td>
        <td style="color:red" id="td">此功能尚未開通</td>        
        <td style="color:red" id="td">此功能尚未開通</td>       
      </tr>
    </tbody>
	</table>
<!-- 	<div style="border: 1px solid #dddddd;
 height:350px">
 	<p style="float:left; margin-left:40%; margin-top: 16%">No set up keywords.</p>
 </div>
</div>  --> 

<div id="tableData" style="display:none; border: 1px solid #dddddd;
 height:550px">
	<table id="tableData">
		<thead>
    <tr>
			<th id="th">Main Keyword</th>
			<th id="th">Sub Keyword</th>
			<th id="th">Content</th>
			<th id="th">Reply Amount/ Reply User Amount</th>
			<th id="th">Edit Status</th>
		</tr>
    </thead>
    <tbody id="waiting"></tbody>
	</table>
<!-- 	<div style="border: 1px solid #dddddd;
 height:350px">
 	 	<p style="float:left; margin-left:40%; margin-top: 16%">No set up keywords.</p>

 </div> -->

</div>  
</section>

</div>

<!-- Modal -->
<div class="modal fade" id="quickAdd" tabindex="-1" role="dialog" aria-labelledby="quickAddTitle" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="quickAddTitle"></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            </div>
            <div class="modal-body">
                <!-- Form Content -->
                <form>
                    <div class="form-group">
                        <label for="modal-mainKey" class="col-2 col-form-label">Enter Main Keyword:</label>
                        <div class="col-4">
                            <input class="form-control" type="text" value="" id="modal-mainKey">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="modal-subKey" class="col-2 col-form-label">Add Sub Keyword:</label>
                         <button id="addSubKey">Add Sub Keyword</button>
                        <div class="col-4" id="subKeyCanvas"></div>
                    </div> 
                    <div class="form-group">
                        <label for="modal-task-name" class="col-2 col-form-label">Reply Message:</label>
                    <table>
                        <td style="padding:5%">
                        <p>Note: You can send 5 messages at a time. Please select the type of message you want to send.</p>
                        <button style="width:20%;margin:0.5%; padding:0.5%; float:left" class="tablinks" rel="text" >Text</button>
                        <button style="width:20%;margin:0.5%; padding:0.5%; float:left" class="tablinks" rel="sticker">Sticker</button>
                        <button style="width:20%;margin:0.5%; padding:0.5%; float:left" class="tablinks" rel="image" >Image</button>
                        <button style="width:20%;margin:0.5%; padding:0.5%; float:left" class="tablinks" rel="coupon">Coupon</button>
                        <button style="width:20%;margin:0.5%; padding:0.5%; float:left" class="tablinks" rel="election" >Election</button>
                        <button style="width:20%;margin:0.5%; padding:0.5%; float:left" class="tablinks" rel="promotion">Promotion</button>
                        <button style="width:20%;margin:0.5%; padding:0.5%; float:left" class="tablinks" rel="survey" >Survey</button>
                        </td>
                    </table>
                    </div>
                    <div class="form-group">
                      <label for="modal-category" class="col-2 col-form-label">Status:</label>
                        <select class="form-control" id="modal-category">
                          <option>Serving</option>
                          <option>Waiting</option>
                        </select>



                    </div>

                    <section>
<!--TEXT AREA -->
<div id="text" style="display:none; height:150px;width:100%; padding:1.5%;margin:2%">
 <table>
  <tr>
    <th style="padding:1.5%; background-color: #ddd">Enter Text:</th>
  </tr>
  <tr>
    <td style="background-color: #ddd">
    <form style="padding:1%">
    <input id="textinput" style="width:100%;height:100px" />
  </form>
  </td>
  </tr>
  <tr>
    <th style="padding:1.5%; background-color: #ddd">
      <button class="tablinks" rel="emos">Emoji</button>
    </th>
  </tr>
</table>  

<!--EMOJI PLUGINS(UNDONE) -->
<div id="emos" style="display:none; position:fixed; padding:5%; background-color: lightgrey; width:100%; height:30%">
      <button class="tablinks" id="emojis" rel="(moonwink)"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAMAAAC7faEHAAAABGdBTUEAALGPC/xhBQAAAwBQTFRFHh4eHR0dICAgHx8fAAAAAAAADw8PAAAAAAAAAAAAAAAAAAAAEhISAAAAAAAAAAAAAAAAAAAAAAAACQkJAAAAKysrDw8OAAAAAAAAAAAAPT09CgoKAAAAAAAAERERAAAAAAAAAAAALS0tQEBAAAAACgoKAwMDAAAAAAAAAAAAAAAADAwMAAAAAAAABQUFFBQUFBQUAAAAAAAAAAAAAAAAAQEBAwMDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANTs74MfJXV9ffICAXl5eKCko/r3B/8LGNygoWU1O/9zfRDIzPTEy4OfnmZmZZWlp/7q+XEhJdnt7VUNE7fLyi5qZ783Py52f+rm9ioqKPj4+oaGh6ru9R1dW6u3tg4ODMyUmOz08+Le6+cLFGBgY+bW4+vf3YEFDISIiKS4uTERF/87SXzs9+unqt7e3AQEBtLSz+cfJ+8nM/+Dkl2pthnZ4/8TI99bZw8PD+/Pz/+jr/eTl//v7+s/S2d7e2dzby8vKyc7N+fr5qKmo9vb2eHd3jY2NLi4uOzs69vb35OTjr6+ux8fH8fDwgoKCyMjIkJCPIyMjV1lYmpmZEhISVFRTQUFBZmZmnp6eMzMz+b3AtLOzR05NYmJiCAgI//LzGxsb/83QUFBQ+7/D/srO5+fm7e/v/v///vb22traeXl5+rq+kJKRrKurmpubpqalurq6/dze/uztuLi4OTk5sLCwfX19h4eG+v//WVlZbGxrQ0NDaWlplZWV4uLiYWFh//7/jIyMZWVl0tLS/f3+Hh4e19bW/9LVSEhIwMDA7Ovry8vLUVFRhISEzs7OTU1NUlJTnJybc3Nzv7+//P//cHBwfHt7+fn4Nzc3/f3839/f/Pz7xsXF/f7+YGBg+Pj5bm5u/Pv7S0tKfn59+v7+PDw83d3c9fX1///+XFxc+/v6+fn69PT0Ly8v/v799/j3kpKSNTU1a2tr+Pj4+/z79/f3+vr5/fz9+vr6/f39/v7++fn5////bEU5JgAAAEN0Uk5T7Oz9/ZST8sSvTzIn5FQbVwqEo9MY9u7BNiT91okG4Kxlt/b+Xc69uZ0Pb/R7Ouz97ipZjKmztm48FB68TKAsaQ19AIjHYkcAAALvSURBVDjL1ZRlVBVRFIWxu7sDUVTsABFBsLu7u7u7W0wawQaRRgkTAUFCEHjSMBJDSrzng3HGie3A0ueA6PKv+8+9d61vnXPW3eccNaN/k9p/xukPHDR46JARWnrD/sYNaNJMvSRSeTPLv2uXzh3+xDUcUax04lCmohvxHQ0q5xr0/5gMcIKo9IIAwM+3VZtKOC3vFIBmBKYUZFhBAK60bP0bp5WZjHMiUMiWiWSYRBZR/fQrcHpJJGgxFsCTBEECBQwjULjad2Q5bmTvXBErZLlHu8ATyTBOoHi2UMz9plM5rsZbfCmtCLj/BjxQnC9eWYHhkNNHwg2rVoQzAhIjSyLC778H4jMRIR4FrACv4RKu1zOks7yDpTwtKWPxS/iFuVlYht2KAFugIOS6Kq5nj09gs+E+XowxrjgEeV53nwMz5I+RzcDZQMXpVAlH3IZ7IaPGxIQjPwOwysnLnWF6G/fYF3DTVHHdXpOPt6+1mTJ6bJpJZLTS3WelzFluNXNBqM3uwzjVXcVpy+Bot+bBxAmAk0VWmnpxSUk+BcxaFLp+T8BJDSl31MV+2dxJk81oQAlYA5Tt7KnTFobaOZ7QkOSN83TZu3H5PNdgc1mGx8el1ln5wcFzps9ftfXAsdO/8uqoOQQcf7Bv0wqYxkbduZsWn2T+JCoMuL3N/inOapb/l6dH9m/ONKFAilak+ALyh6u3HPTMxnkDyT9nIfsFkOsbneO7ZN2O2Gc772R6y2yBuNSii7oS36oWBRDJqaKnIcpXGR8e+sckHBJdxlcSPlLfjKpfAE0Q33hIRRAKlrukI+V6lvYVR3CcCvrMiU8ab2uX79M6Yp9e5jiO/xGS58U7jdgKfWpkZBhNII/gUhX8TxE0PvWr+9scGeakgKJJMeI7jufeEbQCHjV1KpnLRv3N8kBS9JdCgaISFQgKrFWv0jnXbZrkGnStrDzS+Mmr+tp/3Bv67du1DUx4fj3mZYvhBo3/YQ8Z6jX/v/bpd3ud5sjn4chMAAAAAElFTkSuQmCC" /></button>
      <button class="tablinks" id="emojis">Emoji</button>
      <button class="tablinks" id="emojis">Emoji</button>
      <button class="tablinks" id="emojis">Emoji</button>
      <button class="tablinks" id="emojis">Emoji</button>
      <button class="tablinks" rel="Appointment">Emoji</button>
      <button class="tablinks" rel="Appointment">Emoji</button>
      <button class="tablinks" rel="Appointment">Emoji</button>
      <button class="tablinks" rel="Appointment">Emoji</button>
      <button class="tablinks" rel="Appointment">Emoji</button>
      <button class="tablinks" rel="Appointment">Emoji</button>
      <button class="tablinks" rel="Appointment">Emoji</button>
      <button class="tablinks" rel="Appointment">Emoji</button>

</div>
</div>
<!--STICKER -->
<div id="sticker" style="display:none;margin:2%;height:150px;width:100%; padding:1.5%;margin:2%">
 <table>
  <tr>
    <th style="height:150px;width:80%; padding:1.5%; background-color: #ddd; color:red; border:solid white 1px">Sticker is not available now.</th>
  </tr>
  <tr>
    <td style="background-color: #ddd">
    <form style="padding:1%">
  </form>
  </td>
  </tr>
</table>  
</div>
<!--IMAGE -->
<table id="image" style="margin:2%;display:none; background-color: lightgrey; border:solid white 1px">
<th style="border:solid white 1px; padding:3%">Choose the image you want to upload.</th>
<td style="height:200px; width:400px; padding:3%">
  <input type="file"/>
</td>

</table>

<!--COUPON -->
  <table id="coupon" style="margin:2%;display:none;background-color: lightgrey;border:solid white 1px">
    <tr>
      <th style="padding:1%; border:solid white 1px">Coupon Content</th>
      <td style="height:200px; width:400px; padding:3%; border:solid white 1px">There's no coupon currently. Please create one at....</td>
    </tr>
  </table>

<!--ELECTION -->
  <table id="election" style="margin:2%;display:none;background-color: lightgrey;border:solid white 1px">
    <tr>
      <th style="padding:1%; border:solid white 1px">Election Content</th>
      <td style="height:200px; width:400px; padding:3%">There's no election currently. Please create one at....</td>
    </tr>
  </table>

<!--PROMOTION -->
  <table id="promotion" style="margin:2%;display:none;background-color: lightgrey;border:solid white 1px">
    <tr>
      <th style="padding:1%;border:solid white 1px">Promotion Content</th>
      <td style="height:200px; width:400px; padding:3%">There's no promotion currently. Please create one at....</td>
    </tr>
  </table>

<!--SURVEY -->
  <table id="survey" style="margin:2%;display:none;background-color: lightgrey;border:solid white 1px">
    <tr>
      <th style="padding:1%; border: solid white 1px">Survey Content</th>
      <td style="height:200px; width:400px; padding:3%">There's no survey currently. Please create one at....</td>
    </tr>
  </table>

</section>

             <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="modal-submit">Submit</button>
            </div>
        </div>
    </div>
</div>


<style>

#table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
}

#th{
	width:15%;
}

#td, #th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
}

body {font-family: "Lato", sans-serif;}

/* Style the tab */
div.tab {
    overflow: hidden;
    border: 1px solid #ccc;
    background-color: #f1f1f1;
    height:auto;

}

/* Style the buttons inside the tab */
div.tab button {
    background-color: inherit;
    float: left;
    border: none;
    outline: none;
    cursor: pointer;
    padding: 14px 16px;
    transition: 0.3s;
    font-size: 17px;
}

/* Change background color of buttons on hover */
div.tab button:hover {
    background-color: #ddd;
}

/* Create an active/current tablink class */
div.tab button.active {
    background-color: #ccc;
}

/* Style the tab content */
.tabcontent {
    display: none;
    padding: 6px 12px;
    border: 1px solid #ccc;
    border-top: none;
    height:500px;
}

/* Style the close button */
.topright {
    float: right;
    cursor: pointer;
    font-size: 20px;
}

.topright:hover {color: red;}
</style>


      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>      
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
      <script src="https://www.gstatic.com/firebasejs/4.1.2/firebase.js"></script>
      <script src="javascripts/firebaseConfig.js"></script>
      <script src="javascripts/message_keywordsreply.js"></script>


   </body>
</html>
